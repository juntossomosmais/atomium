const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-8d9b57d7-PlsDOfno.js","./gesture-controller-5b8003e1-9dGIRWtU.js"])))=>i.map(i=>d[i]);
import{_}from"./iframe-BxQfbS_s.js";import{r as O,c as h,a as b,b as y,h as u,H as L,g as M}from"./index-Bln4159q.js";import{g as P}from"./cubic-bezier-c467eebb-B8nHoLJF.js";import{G as I}from"./gesture-controller-5b8003e1-9dGIRWtU.js";import{shouldUseCloseWatcher as D}from"./hardware-back-button-3e887a79-4qL48ZSU.js";import{j as w,i as W,l,f as z}from"./helpers-079c01eb-D592YRe8.js";import{m as d}from"./index-385108b8-UdH8ZBwJ.js";import{g as G}from"./overlays-9c065d0d-vLraYBnk.js";import"../sb-preview/runtime.js";import"./vue.esm-bundler-B2N54QI-.js";import"./index-d9a82e80-B2PaWDFh.js";import"./index-f5dbb989-By3l89LO.js";import"./animation-022a9434-BW6ZVdxK.js";import"./framework-delegate-bec700a6-1EDJ8Ayl.js";const F=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{transform:translateX(-9999px);display:flex;position:absolute;flex-direction:column;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}}@supports not (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{left:0;right:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{left:unset;right:unset;left:auto;right:0}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{left:unset;right:unset;left:auto;right:0}}}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}}@supports not (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{left:auto;right:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{left:unset;right:unset;left:0;right:auto}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{left:unset;right:unset;left:0;right:auto}}}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){width:var(--width);min-width:var(--min-width);max-width:var(--max-width)}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;transform:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",R=F,T=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{transform:translateX(-9999px);display:flex;position:absolute;flex-direction:column;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}}@supports not (inset-inline-start: 0){:host(.menu-side-start) .menu-inner{left:0;right:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{left:unset;right:unset;left:auto;right:0}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{left:unset;right:unset;left:auto;right:0}}}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}@supports (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}}@supports not (inset-inline-start: 0){:host(.menu-side-end) .menu-inner{left:auto;right:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{left:unset;right:unset;left:0;right:auto}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{left:unset;right:unset;left:0;right:auto}}}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){width:var(--width);min-width:var(--min-width);max-width:var(--max-width)}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;transform:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-type-overlay) .menu-inner{box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",V=T,N="cubic-bezier(0.32,0.72,0,1)",K="cubic-bezier(0.0,0.0,0.2,1)",X="cubic-bezier(1, 0, 0.68, 0.28)",B="cubic-bezier(0.4, 0, 0.6, 1)",x='[tabindex]:not([tabindex^="-"]), input:not([type=hidden]):not([tabindex^="-"]), textarea:not([tabindex^="-"]), button:not([tabindex^="-"]), select:not([tabindex^="-"]), .ion-focusable:not([tabindex^="-"])',$=class{constructor(t){O(this,t),this.ionWillOpen=h(this,"ionWillOpen",7),this.ionWillClose=h(this,"ionWillClose",7),this.ionDidOpen=h(this,"ionDidOpen",7),this.ionDidClose=h(this,"ionDidClose",7),this.ionMenuChange=h(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=I.createBlocker({disableScroll:!0}),this.didLoad=!1,this.operationCancelled=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=e=>{const i=G(document);i&&!i.contains(this.el)||this.trapKeyboardFocus(e,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(t,e){const i=this.contentEl;i&&(e!==void 0&&i.classList.remove(`menu-content-${e}`),i.classList.add(`menu-content-${t}`),i.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=w(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-menu"),this.type===void 0&&(this.type=b.get("menuType","overlay"));const t=this.contentId!==void 0?document.getElementById(this.contentId):null;if(t===null){console.error('Menu: must have a "content" element to listen for drag events on.');return}this.el.contains(t)&&console.error(`Menu: "contentId" should refer to the main view's ion-content, not the ion-content inside of the ion-menu.`),this.contentEl=t,t.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),d._register(this),this.menuChanged(),this.gesture=(await _(async()=>{const{createGesture:e}=await import("./index-8d9b57d7-PlsDOfno.js");return{createGesture:e}},__vite__mapDeps([0,1]),import.meta.url)).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:e=>this.canStart(e),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:e=>this.onMove(e),onEnd:e=>this.onEnd(e)}),this.updateState()}componentWillLoad(){this.inheritedAttributes=W(this.el)}async componentDidLoad(){this.didLoad=!0,this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),d._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(t){const{target:e}=t,i=this.el.closest("ion-split-pane");e===i&&(this.isPaneVisible=t.detail.isPane(this.el),this.updateState())}onBackdropClick(t){this._isOpen&&this.lastOnEnd<t.timeStamp-100&&(t.composedPath&&!t.composedPath().includes(this.menuInnerEl))&&(t.preventDefault(),t.stopPropagation(),this.close())}onKeydown(t){t.key==="Escape"&&this.close()}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(t=!0){return this.setOpen(!0,t)}close(t=!0){return this.setOpen(!1,t)}toggle(t=!0){return this.setOpen(!this._isOpen,t)}setOpen(t,e=!0){return d._setOpen(this,t,e)}focusFirstDescendant(){const{el:t}=this,e=t.querySelector(x);e?e.focus():t.focus()}focusLastDescendant(){const{el:t}=this,e=Array.from(t.querySelectorAll(x)),i=e.length>0?e[e.length-1]:null;i?i.focus():t.focus()}trapKeyboardFocus(t,e){const i=t.target;i&&(this.el.contains(i)?this.lastFocus=i:(this.focusFirstDescendant(),this.lastFocus===e.activeElement&&this.focusLastDescendant()))}async _setOpen(t,e=!0){return!this._isActive()||this.isAnimating||t===this._isOpen?!1:(this.beforeAnimation(t),await this.loadAnimation(),await this.startAnimation(t,e),this.operationCancelled?(this.operationCancelled=!1,!1):(this.afterAnimation(t),!0))}async loadAnimation(){const t=this.menuInnerEl.offsetWidth,e=w(this.side);if(t===this.width&&this.animation!==void 0&&e===this.isEndSide)return;this.width=t,this.isEndSide=e,this.animation&&(this.animation.destroy(),this.animation=void 0);const i=this.animation=await d._createAnimation(this.type,this);b.getBoolean("animated",!0)||i.duration(0),i.fill("both")}async startAnimation(t,e){const i=!t,s=y(this),o=s==="ios"?N:K,a=s==="ios"?X:B,n=this.animation.direction(i?"reverse":"normal").easing(i?a:o);e?await n.play():n.play({sync:!0}),n.getDirection()==="reverse"&&n.direction("normal")}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(t){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:d._getOpenSync()?!1:j(window,t.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){l(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(t){if(!this.isAnimating||!this.animation){l(!1,"isAnimating has to be true");return}const i=v(t.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-i:i)}onEnd(t){if(!this.isAnimating||!this.animation){l(!1,"isAnimating has to be true");return}const e=this._isOpen,i=this.isEndSide,s=v(t.deltaX,e,i),o=this.width,a=s/o,n=t.velocityX,c=o/2,p=n>=0&&(n>.2||t.deltaX>c),f=n<=0&&(n<-.2||t.deltaX<-c),r=e?i?p:f:i?f:p;let g=!e&&r;e&&!r&&(g=!0),this.lastOnEnd=t.currentTime;let m=r?.001:-.001;const k=a<0?.01:a;m+=P([0,0],[.4,0],[.6,1],[1,1],z(0,k,.9999))[0]||0;const C=this._isOpen?!r:r;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(g),{oneTimeCallback:!0}).progressEnd(C?1:0,this._isOpen?1-m:m,300)}beforeAnimation(t){l(!this.isAnimating,"_before() should not be called while animating"),this.el.classList.add(E),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(A),this.contentEl&&(this.contentEl.classList.add(S),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,t?this.ionWillOpen.emit():this.ionWillClose.emit()}afterAnimation(t){var e;this._isOpen=t,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),t?(this.ionDidOpen.emit(),((e=document.activeElement)===null||e===void 0?void 0:e.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.classList.remove(E),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(S),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(A),this.animation&&this.animation.stop(),this.ionDidClose.emit(),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){const t=this._isActive();this.gesture&&this.gesture.enable(t&&this.swipeGesture),t||(this.isAnimating&&(this.operationCancelled=!0),this.afterAnimation(!1))}render(){const{type:t,disabled:e,isPaneVisible:i,inheritedAttributes:s,side:o}=this,a=y(this);return u(L,{key:"7443f67fbe5122052025bab862136044fc942401",onKeyDown:D()?null:this.onKeydown,role:"navigation","aria-label":s["aria-label"]||"menu",class:{[a]:!0,[`menu-type-${t}`]:!0,"menu-enabled":!e,[`menu-side-${o}`]:!0,"menu-pane-visible":i}},u("div",{key:"45c7d37ace20f663a4bea89cb38bbc798f88dfbd",class:"menu-inner",part:"container",ref:n=>this.menuInnerEl=n},u("slot",{key:"975437a5d4029cc200b6dbc2d47a16b4318c00aa"})),u("ion-backdrop",{key:"acc8a1f5dc1b1e2a34757bf797e794017f545bdc",ref:n=>this.backdropEl=n,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return M(this)}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}},v=(t,e,i)=>Math.max(0,e!==i?-t:t),j=(t,e,i,s)=>i?e>=t.innerWidth-s:e<=s,E="show-menu",A="show-backdrop",S="menu-content-open";$.style={ios:R,md:V};export{$ as ion_menu};
