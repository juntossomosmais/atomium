import{v as y}from"./v4-CtRu48qb.js";const{addons:R}=__STORYBOOK_MODULE_PREVIEW_API__,{ImplicitActionsDuringRendering:v}=__STORYBOOK_MODULE_CORE_EVENTS_PREVIEW_ERRORS__,{global:E}=__STORYBOOK_MODULE_GLOBAL__;var b="actions",A="storybook/actions",w=`${A}/action-event`,p={depth:10,clearOnStoryChange:!0,limit:50},u=(e,r)=>{let t=Object.getPrototypeOf(e);return!t||r(t)?t:u(t,r)},D=e=>!!(typeof e=="object"&&e&&u(e,r=>/^Synthetic(?:Base)?Event$/.test(r.constructor.name))&&typeof e.persist=="function"),S=e=>{if(D(e)){let r=Object.create(e.constructor.prototype,Object.getOwnPropertyDescriptors(e));r.persist();let t=Object.getOwnPropertyDescriptor(r,"view"),n=t?.value;return typeof n=="object"&&n?.constructor.name==="Window"&&Object.defineProperty(r,"view",{...t,value:Object.create(n.constructor.prototype)}),r}return e},I=()=>typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?y():Date.now().toString(36)+Math.random().toString(36).substring(2);function j(e,r={}){let t={...p,...r},n=function(...i){if(r.implicit){let O=("__STORYBOOK_PREVIEW__"in E?E.__STORYBOOK_PREVIEW__:void 0)?.storyRenders.find(c=>c.phase==="playing"||c.phase==="rendering");if(O){let c=!globalThis?.FEATURES?.disallowImplicitActionsInRenderV8,_=new v({phase:O.phase,name:e,deprecated:c});if(c)console.warn(_);else throw _}}let o=R.getChannel(),l=I(),s=5,a=i.map(S),g=i.length>1?a:a[0],m={id:l,count:0,data:{name:e,args:g},options:{...t,maxDepth:s+(t.depth||3),allowFunction:t.allowFunction||!1}};o.emit(w,m)};return n.isAction=!0,n.implicit=r.implicit,n}var P=(...e)=>{let r=p,t=e;t.length===1&&Array.isArray(t[0])&&([t]=t),t.length!==1&&typeof t[t.length-1]!="string"&&(r={...p,...t.pop()});let n=t[0];(t.length!==1||typeof n=="string")&&(n={},t.forEach(o=>{n[o]=o}));let i={};return Object.keys(n).forEach(o=>{i[o]=j(n[o],r)}),i};const{makeDecorator:T,useEffect:B}=__STORYBOOK_MODULE_PREVIEW_API__,{global:L}=__STORYBOOK_MODULE_GLOBAL__;var{document:h,Element:d}=L,M=/^(\S+)\s*(.*)$/,V=d!=null&&!d.prototype.matches,K=V?"msMatchesSelector":"matches",f=(e,r)=>{if(e[K](r))return!0;let t=e.parentElement;return t?f(t,r):!1},Y=(e,...r)=>{let t=e(...r);return Object.entries(t).map(([n,i])=>{let[o,l,s]=n.match(M)||[];return{eventName:l,handler:a=>{(!s||f(a.target,s))&&i(a)}}})},N=(e,...r)=>{let t=h&&h.getElementById("storybook-root");B(()=>{if(t!=null){let n=Y(e,...r);return n.forEach(({eventName:i,handler:o})=>t.addEventListener(i,o)),()=>n.forEach(({eventName:i,handler:o})=>t.removeEventListener(i,o))}},[t,e,r])},W=T({name:"withActions",parameterName:b,skipIfNoParametersOrOptions:!0,wrapper:(e,r,{parameters:t})=>(t?.handles&&N(P,...t.handles),e(r))});export{W as w};
