"use strict";
globalThis["webpackHotUpdateatomium_docs"]("packages_library_dist_esm_swipe-back-fe7ee8ee_js",{

/***/ "../../packages/library/dist/esm/swipe-back-fe7ee8ee.js":
/*!**************************************************************!*\
  !*** ../../packages/library/dist/esm/swipe-back-fe7ee8ee.js ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "createSwipeBackGesture": () => (/* binding */ createSwipeBackGesture)
/* harmony export */ });
/* harmony import */ var _helpers_937ea457_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./helpers-937ea457.js */ "../../packages/library/dist/esm/helpers-937ea457.js");
/* harmony import */ var _dir_81e2b9f7_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./dir-81e2b9f7.js */ "../../packages/library/dist/esm/dir-81e2b9f7.js");
/* harmony import */ var _index_e65e72c8_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index-e65e72c8.js */ "../../packages/library/dist/esm/index-e65e72c8.js");
/* harmony import */ var _gesture_controller_c7c60b38_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gesture-controller-c7c60b38.js */ "../../packages/library/dist/esm/gesture-controller-c7c60b38.js");





/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
const createSwipeBackGesture = (el, canStartHandler, onStartHandler, onMoveHandler, onEndHandler) => {
  const win = el.ownerDocument.defaultView;
  let rtl = (0,_dir_81e2b9f7_js__WEBPACK_IMPORTED_MODULE_2__.i)(el);
  /**
   * Determine if a gesture is near the edge
   * of the screen. If true, then the swipe
   * to go back gesture should proceed.
   */
  const isAtEdge = detail => {
    const threshold = 50;
    const {
      startX
    } = detail;
    if (rtl) {
      return startX >= win.innerWidth - threshold;
    }
    return startX <= threshold;
  };
  const getDeltaX = detail => {
    return rtl ? -detail.deltaX : detail.deltaX;
  };
  const getVelocityX = detail => {
    return rtl ? -detail.velocityX : detail.velocityX;
  };
  const canStart = detail => {
    /**
     * The user's locale can change mid-session,
     * so we need to check text direction at
     * the beginning of every gesture.
     */
    rtl = (0,_dir_81e2b9f7_js__WEBPACK_IMPORTED_MODULE_2__.i)(el);
    return isAtEdge(detail) && canStartHandler();
  };
  const onMove = detail => {
    // set the transition animation's progress
    const delta = getDeltaX(detail);
    const stepValue = delta / win.innerWidth;
    onMoveHandler(stepValue);
  };
  const onEnd = detail => {
    // the swipe back gesture has ended
    const delta = getDeltaX(detail);
    const width = win.innerWidth;
    const stepValue = delta / width;
    const velocity = getVelocityX(detail);
    const z = width / 2.0;
    const shouldComplete = velocity >= 0 && (velocity > 0.2 || delta > z);
    const missing = shouldComplete ? 1 - stepValue : stepValue;
    const missingDistance = missing * width;
    let realDur = 0;
    if (missingDistance > 5) {
      const dur = missingDistance / Math.abs(velocity);
      realDur = Math.min(dur, 540);
    }
    onEndHandler(shouldComplete, stepValue <= 0 ? 0.01 : (0,_helpers_937ea457_js__WEBPACK_IMPORTED_MODULE_3__.f)(0, stepValue, 0.9999), realDur);
  };
  return (0,_index_e65e72c8_js__WEBPACK_IMPORTED_MODULE_0__.createGesture)({
    el,
    gestureName: 'goback-swipe',
    gesturePriority: 40,
    threshold: 10,
    canStart,
    onStart: onStartHandler,
    onMove,
    onEnd
  });
};


/***/ })

});
//# sourceMappingURL=packages_library_dist_esm_swipe-back-fe7ee8ee_js.96aa45a32efcd45c89cc.hot-update.js.map