import { Meta } from '@storybook/addon-docs'

<Meta title='Docs/Architecture Decision Records/ADR 0013: Why using a virtual carousel item' />

# ADR 0013: Why using a virtual carousel item

üóìÔ∏è 2023-08 ¬∑ ‚úçÔ∏è [@schirrel](https://github.com/schirrel), [@MayaraRMA](https://github.com/MayaraRMA), [@tassioFront](https://github.com/tassioFront) and [@felipefialho](https://twitter.com/felipefialho_)

## Context

Wrapping up Swiper HTMLElements as Atomium element.

## Problems

When creating `<atom-carousel>` and its items `<atom-carousel-item>`, the HTML three place the `<atom-carousel-item>` inside `<swiper-element>`, but the swiper needs its children to be `<swiper-slide>`.

Then we need to convert each `atom-carousel-item` into `swiper-slide`.

## Considered Options

To convert the inner `<atom-carousel-item>` to `<swiper-slide>`, and we have two options:

1. Create and `atom-carousel-item` component and inside itself creating the `<swiper-slide>` component on parent and them self deleting from parent.
2. The parent itself convert all children at once.

## Decision Drivers

- Complexity
- Performance

### Performance

We had performed a test with both approach using 9 items inside the Carousel:

- With children `atom-carousel-item` doing the conversion, it took _0.50ms_
- With parent `atom-carousel` doing the conversion, it took _0.20ms_

### Complexity

Taking in consideration the complexity of both codes, not only the parent's conversion approach was using less code but take also avoid us to create a component only to destruct itself. This also avoid the have one more file to maintain, build, test and also to be on final bundle.

## Decision

Once parent's conversion approach took less than half of conversion time and its code is less complex, we had decide to have `<atom-carousel-item>` as a _"virtual component"_ that means this component is a pattern but not a real component. The usage of `atom-carousel` requires its children to be written with `atom-carousel-item` HTMLElement in order to be converter to `swiper-slide`.

Besides it is not a real component, we have add a Story about it to provide the usage of it and to indicate the `lazy` property that `<swiper-slide>` has.

PS: Even tho the component is not needed, in order to work properly with JSX/React import, we had an AtomCarouselItem component but only for compatibility purpose.
