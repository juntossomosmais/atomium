import{r as a,b as h,h as r,H as d,a as m}from"./index-_rCUTZzq.js";import{i as c}from"./dir-C53feagD-M0id1WX-.js";import"./iframe-Xde5Z66N.js";import"./preload-helper-PPVm8Dsz.js";const u=()=>":host{display:flex;height:100%;overflow-x:scroll;scroll-snap-type:x mandatory;scrollbar-width:none;-ms-overflow-style:none}:host::-webkit-scrollbar{display:none}:host(.segment-view-disabled){touch-action:none;overflow-x:hidden}:host(.segment-view-scroll-disabled){pointer-events:none}:host(.segment-view-disabled){opacity:0.3}",f=()=>":host{display:flex;height:100%;overflow-x:scroll;scroll-snap-type:x mandatory;scrollbar-width:none;-ms-overflow-style:none}:host::-webkit-scrollbar{display:none}:host(.segment-view-disabled){touch-action:none;overflow-x:hidden}:host(.segment-view-scroll-disabled){pointer-events:none}:host(.segment-view-disabled){opacity:0.3}",g=class{constructor(e){a(this,e),this.ionSegmentViewScroll=h(this,"ionSegmentViewScroll",7),this.scrollEndTimeout=null,this.isTouching=!1,this.disabled=!1}handleScroll(e){var t;const{scrollLeft:n,scrollWidth:s,clientWidth:o}=e.target,l=s-o,i=(c(this.el)?-1:1)*(n/l);this.ionSegmentViewScroll.emit({scrollRatio:i,isManualScroll:(t=this.isManualScroll)!==null&&t!==void 0?t:!0}),this.resetScrollEndTimeout()}handleScrollStart(){this.scrollEndTimeout&&(clearTimeout(this.scrollEndTimeout),this.scrollEndTimeout=null),this.isTouching=!0}handleTouchEnd(){this.isTouching=!1}resetScrollEndTimeout(){this.scrollEndTimeout&&(clearTimeout(this.scrollEndTimeout),this.scrollEndTimeout=null),this.scrollEndTimeout=setTimeout(()=>{this.checkForScrollEnd()},100)}checkForScrollEnd(){this.isTouching||(this.isManualScroll=void 0)}async setContent(e,t=!0){const s=this.getSegmentContents().findIndex(i=>i.id===e);if(s===-1)return;this.isManualScroll=!1,this.resetScrollEndTimeout();const o=this.el.offsetWidth,l=s*o;this.el.scrollTo({top:0,left:(c(this.el)?-1:1)*l,behavior:t?"smooth":"instant"})}getSegmentContents(){return Array.from(this.el.querySelectorAll("ion-segment-content"))}render(){const{disabled:e,isManualScroll:t}=this;return r(d,{key:"e180b67bb3143a5f4611fb358c037be6fc782a8f",class:{"segment-view-disabled":e,"segment-view-scroll-disabled":t===!1}},r("slot",{key:"41c11d6a7406a10f5c64a2e73abfc072afd8fc73"}))}get el(){return m(this)}};g.style={ios:u(),md:f()};export{g as ion_segment_view};
