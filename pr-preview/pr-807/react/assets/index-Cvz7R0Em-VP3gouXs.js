import{d as f}from"./index-ZjP4CjeZ-C2-Wxc_X.js";import{q as b}from"./helpers-B-Uyga6H-CDfKg2ru.js";import"./index-Co-uq1w2.js";import"./iframe-DpC2g9gS.js";import"./preload-helper-PPVm8Dsz.js";const x=n=>{if(f===void 0)return;let o=0,t,r,s;const R=n.getBoolean("animated",!0)&&n.getBoolean("rippleEffect",!0),d=new WeakMap,p=()=>{s&&clearTimeout(s),s=void 0,t&&(E(!1),t=void 0)},h=e=>{t||e.button===2||u(g(e),e)},w=e=>{u(void 0,e)},u=(e,i)=>{if(e&&e===t)return;s&&clearTimeout(s),s=void 0;const{x:c,y:a}=b(i);if(t){if(d.has(t))throw new Error("internal error");t.classList.contains(l)||m(t,c,a),E(!0)}if(e){const A=d.get(e);A&&(clearTimeout(A),d.delete(e)),e.classList.remove(l);const T=()=>{m(e,c,a),s=void 0};L(e)?T():s=setTimeout(T,S)}t=e},m=(e,i,c)=>{if(o=Date.now(),e.classList.add(l),!R)return;const a=C(e);a!==null&&(v(),r=a.addRipple(i,c))},v=()=>{r!==void 0&&(r.then(e=>e()),r=void 0)},E=e=>{v();const i=t;if(!i)return;const c=D-Date.now()+o;if(e&&c>0&&!L(i)){const a=setTimeout(()=>{i.classList.remove(l),d.delete(i)},D);d.set(i,a)}else i.classList.remove(l)};f.addEventListener("ionGestureCaptured",p),f.addEventListener("pointerdown",h,!0),f.addEventListener("pointerup",w,!0),f.addEventListener("pointercancel",p,!0)},g=n=>{if(n.composedPath!==void 0){const o=n.composedPath();for(let t=0;t<o.length-2;t++){const r=o[t];if(!(r instanceof ShadowRoot)&&r.classList.contains("ion-activatable"))return r}}else return n.target.closest(".ion-activatable")},L=n=>n.classList.contains("ion-activatable-instant"),C=n=>{if(n.shadowRoot){const o=n.shadowRoot.querySelector("ion-ripple-effect");if(o)return o}return n.querySelector("ion-ripple-effect")},l="ion-activated",S=100,D=150;export{x as startTapClick};
