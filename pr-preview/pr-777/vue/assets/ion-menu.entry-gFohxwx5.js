const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./index-CF4QYFB3-Bkv2hDAc.js","./gesture-controller-BTEOs1at-CKNmfd8r.js"])))=>i.map(i=>d[i]);
import{_ as L}from"./iframe-mr_rW_Sm.js";import{r as M,b as h,c as v,p as w,g as x,i as y,h as u,H as D,a as I}from"./index-QyA77gPo.js";import{g as z}from"./cubic-bezier-hHmYLOfE-B8nHoLJF.js";import{g as W,B as E,f as G,a as R,G as p}from"./overlays-BsqHtjkE-b7JeNk2F.js";import{G as T}from"./gesture-controller-BTEOs1at-CKNmfd8r.js";import{shouldUseCloseWatcher as V}from"./hardware-back-button-DOb4eODj-DDp0STO2.js";import{b as k,f as F,j as m,a as B}from"./helpers-dt_t6yMe-Cu59ETlr.js";import{m as l}from"./index-hZk6uXNL-B5bqxuMu.js";import{h as K}from"./theme-DiVJyqlX-DD5XIICl.js";import"./vue.esm-bundler-UQm0beuB.js";import"./index-ZjP4CjeZ-B2PaWDFh.js";import"./framework-delegate-B5UviCiJ-7HTEzFuv.js";import"./animation-DbamcHoQ-Dkp0HJ9X.js";const N=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{transform:translateX(-9999px);display:flex;position:absolute;flex-direction:column;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:flex;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;transform:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-push){z-index:1000}:host(.menu-type-push) .show-backdrop{display:block}",X=":host{--width:304px;--min-width:auto;--max-width:auto;--height:100%;--min-height:auto;--max-height:auto;--background:var(--ion-background-color, #fff);left:0;right:0;top:0;bottom:0;display:none;position:absolute;contain:strict}:host(.show-menu){display:block}.menu-inner{transform:translateX(-9999px);display:flex;position:absolute;flex-direction:column;justify-content:space-between;width:var(--width);min-width:var(--min-width);max-width:var(--max-width);height:var(--height);min-height:var(--min-height);max-height:var(--max-height);background:var(--background);contain:strict}:host(.menu-side-start) .menu-inner{--ion-safe-area-right:0px;top:0;bottom:0}:host(.menu-side-start) .menu-inner{inset-inline-start:0;inset-inline-end:auto}:host-context([dir=rtl]):host(.menu-side-start) .menu-inner,:host-context([dir=rtl]).menu-side-start .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}@supports selector(:dir(rtl)){:host(.menu-side-start:dir(rtl)) .menu-inner{--ion-safe-area-right:unset;--ion-safe-area-left:0px}}:host(.menu-side-end) .menu-inner{--ion-safe-area-left:0px;top:0;bottom:0}:host(.menu-side-end) .menu-inner{inset-inline-start:auto;inset-inline-end:0}:host-context([dir=rtl]):host(.menu-side-end) .menu-inner,:host-context([dir=rtl]).menu-side-end .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}@supports selector(:dir(rtl)){:host(.menu-side-end:dir(rtl)) .menu-inner{--ion-safe-area-left:unset;--ion-safe-area-right:0px}}ion-backdrop{display:none;opacity:0.01;z-index:-1}@media (max-width: 340px){.menu-inner{--width:264px}}:host(.menu-type-reveal){z-index:0}:host(.menu-type-reveal.show-menu) .menu-inner{transform:translate3d(0,  0,  0)}:host(.menu-type-overlay){z-index:1000}:host(.menu-type-overlay) .show-backdrop{display:block;cursor:pointer}:host(.menu-pane-visible){flex:0 1 auto;width:var(--side-width, var(--width));min-width:var(--side-min-width, var(--min-width));max-width:var(--side-max-width, var(--max-width))}:host(.menu-pane-visible.split-pane-side){left:0;right:0;top:0;bottom:0;position:relative;box-shadow:none;z-index:0}:host(.menu-pane-visible.split-pane-side.menu-enabled){display:flex;flex-shrink:0}:host(.menu-pane-visible.split-pane-side){order:-1}:host(.menu-pane-visible.split-pane-side[side=end]){order:1}:host(.menu-pane-visible) .menu-inner{left:0;right:0;width:auto;transform:none;box-shadow:none}:host(.menu-pane-visible) ion-backdrop{display:hidden !important}:host(.menu-pane-visible.split-pane-side){-webkit-border-start:0;border-inline-start:0;-webkit-border-end:var(--border);border-inline-end:var(--border);border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-pane-visible.split-pane-side[side=end]){-webkit-border-start:var(--border);border-inline-start:var(--border);-webkit-border-end:0;border-inline-end:0;border-top:0;border-bottom:0;min-width:var(--side-min-width);max-width:var(--side-max-width)}:host(.menu-type-overlay) .menu-inner{box-shadow:4px 0px 16px rgba(0, 0, 0, 0.18)}",U="cubic-bezier(0.32,0.72,0,1)",$="cubic-bezier(0.0,0.0,0.2,1)",j="cubic-bezier(1, 0, 0.68, 0.28)",H="cubic-bezier(0.4, 0, 0.6, 1)",q=class{constructor(e){M(this,e),this.ionWillOpen=h(this,"ionWillOpen",7),this.ionWillClose=h(this,"ionWillClose",7),this.ionDidOpen=h(this,"ionDidOpen",7),this.ionDidClose=h(this,"ionDidClose",7),this.ionMenuChange=h(this,"ionMenuChange",7),this.lastOnEnd=0,this.blocker=T.createBlocker({disableScroll:!0}),this.didLoad=!1,this.operationCancelled=!1,this.isAnimating=!1,this._isOpen=!1,this.inheritedAttributes={},this.handleFocus=t=>{const i=W(document);i&&!i.contains(this.el)||this.trapKeyboardFocus(t,document)},this.isPaneVisible=!1,this.isEndSide=!1,this.contentId=void 0,this.menuId=void 0,this.type=void 0,this.disabled=!1,this.side="start",this.swipeGesture=!0,this.maxEdgeStart=50}typeChanged(e,t){const i=this.contentEl;i&&(t!==void 0&&i.classList.remove(`menu-content-${t}`),i.classList.add(`menu-content-${e}`),i.removeAttribute("style")),this.menuInnerEl&&this.menuInnerEl.removeAttribute("style"),this.animation=void 0}disabledChanged(){this.updateState(),this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}sideChanged(){this.isEndSide=k(this.side),this.animation=void 0}swipeGestureChanged(){this.updateState()}async connectedCallback(){typeof customElements<"u"&&customElements!=null&&await customElements.whenDefined("ion-menu"),this.type===void 0&&(this.type=v.get("menuType","overlay"));const e=this.contentId!==void 0?document.getElementById(this.contentId):null;if(e===null){w('[ion-menu] - Must have a "content" element to listen for drag events on.');return}this.el.contains(e)&&w(`[ion-menu] - The "contentId" should refer to the main view's ion-content, not the ion-content inside of the ion-menu.`),this.contentEl=e,e.classList.add("menu-content"),this.typeChanged(this.type,void 0),this.sideChanged(),l._register(this),this.menuChanged(),this.gesture=(await L(async()=>{const{createGesture:t}=await import("./index-CF4QYFB3-Bkv2hDAc.js");return{createGesture:t}},__vite__mapDeps([0,1]),import.meta.url)).createGesture({el:document,gestureName:"menu-swipe",gesturePriority:30,threshold:10,blurOnStart:!0,canStart:t=>this.canStart(t),onWillStart:()=>this.onWillStart(),onStart:()=>this.onStart(),onMove:t=>this.onMove(t),onEnd:t=>this.onEnd(t)}),this.updateState()}componentWillLoad(){this.inheritedAttributes=F(this.el)}async componentDidLoad(){this.didLoad=!0;const e=this.el.closest("ion-split-pane");e!==null&&(this.isPaneVisible=await e.isVisible()),this.menuChanged(),this.updateState()}menuChanged(){this.didLoad&&this.ionMenuChange.emit({disabled:this.disabled,open:this._isOpen})}async disconnectedCallback(){await this.close(!1),this.blocker.destroy(),l._unregister(this),this.animation&&this.animation.destroy(),this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.animation=void 0,this.contentEl=void 0}onSplitPaneChanged(e){const t=this.el.closest("ion-split-pane");t!==null&&t===e.target&&(this.isPaneVisible=e.detail.visible,this.updateState())}onBackdropClick(e){this._isOpen&&this.lastOnEnd<e.timeStamp-100&&(e.composedPath&&!e.composedPath().includes(this.menuInnerEl))&&(e.preventDefault(),e.stopPropagation(),this.close(void 0,E))}onKeydown(e){e.key==="Escape"&&this.close(void 0,E)}isOpen(){return Promise.resolve(this._isOpen)}isActive(){return Promise.resolve(this._isActive())}open(e=!0){return this.setOpen(!0,e)}close(e=!0,t){return this.setOpen(!1,e,t)}toggle(e=!0){return this.setOpen(!this._isOpen,e)}setOpen(e,t=!0,i){return l._setOpen(this,e,t,i)}trapKeyboardFocus(e,t){const i=e.target;if(i)if(this.el.contains(i))this.lastFocus=i;else{const{el:n}=this;G(n),this.lastFocus===t.activeElement&&R(n)}}async _setOpen(e,t=!0,i){return!this._isActive()||this.isAnimating||e===this._isOpen?!1:(this.beforeAnimation(e,i),await this.loadAnimation(),await this.startAnimation(e,t),this.operationCancelled?(this.operationCancelled=!1,!1):(this.afterAnimation(e,i),!0))}async loadAnimation(){const e=this.menuInnerEl.offsetWidth,t=k(this.side);if(e===this.width&&this.animation!==void 0&&t===this.isEndSide)return;this.width=e,this.isEndSide=t,this.animation&&(this.animation.destroy(),this.animation=void 0);const i=this.animation=await l._createAnimation(this.type,this);v.getBoolean("animated",!0)||i.duration(0),i.fill("both")}async startAnimation(e,t){const i=!e,n=x(this),a=n==="ios"?U:$,o=n==="ios"?j:H,s=this.animation.direction(i?"reverse":"normal").easing(i?o:a);t?await s.play():s.play({sync:!0}),s.getDirection()==="reverse"&&s.direction("normal")}_isActive(){return!this.disabled&&!this.isPaneVisible}canSwipe(){return this.swipeGesture&&!this.isAnimating&&this._isActive()}canStart(e){return!!document.querySelector("ion-modal.show-modal")||!this.canSwipe()?!1:this._isOpen?!0:l._getOpenSync()?!1:J(window,e.currentX,this.isEndSide,this.maxEdgeStart)}onWillStart(){return this.beforeAnimation(!this._isOpen,p),this.loadAnimation()}onStart(){if(!this.isAnimating||!this.animation){m(!1,"isAnimating has to be true");return}this.animation.progressStart(!0,this._isOpen?1:0)}onMove(e){if(!this.isAnimating||!this.animation){m(!1,"isAnimating has to be true");return}const i=A(e.deltaX,this._isOpen,this.isEndSide)/this.width;this.animation.progressStep(this._isOpen?1-i:i)}onEnd(e){if(!this.isAnimating||!this.animation){m(!1,"isAnimating has to be true");return}const t=this._isOpen,i=this.isEndSide,n=A(e.deltaX,t,i),a=this.width,o=n/a,s=e.velocityX,r=a/2,b=s>=0&&(s>.2||e.deltaX>r),f=s<=0&&(s<-.2||e.deltaX<-r),d=t?i?b:f:i?f:b;let g=!t&&d;t&&!d&&(g=!0),this.lastOnEnd=e.currentTime;let c=d?.001:-.001;const _=o<0?.01:o;c+=z([0,0],[.4,0],[.6,1],[1,1],B(0,_,.9999))[0]||0;const P=this._isOpen?!d:d;this.animation.easing("cubic-bezier(0.4, 0.0, 0.6, 1)").onFinish(()=>this.afterAnimation(g,p),{oneTimeCallback:!0}).progressEnd(P?1:0,this._isOpen?1-c:c,300)}beforeAnimation(e,t){m(!this.isAnimating,"_before() should not be called while animating"),y("android")&&this.el.setAttribute("aria-hidden","true"),this.el.classList.add(C),this.el.setAttribute("tabindex","0"),this.backdropEl&&this.backdropEl.classList.add(O),this.contentEl&&(this.contentEl.classList.add(S),this.contentEl.setAttribute("aria-hidden","true")),this.blocker.block(),this.isAnimating=!0,e?this.ionWillOpen.emit():this.ionWillClose.emit({role:t})}afterAnimation(e,t){var i;this._isOpen=e,this.isAnimating=!1,this._isOpen||this.blocker.unblock(),e?(y("android")&&this.el.removeAttribute("aria-hidden"),this.ionDidOpen.emit(),((i=document.activeElement)===null||i===void 0?void 0:i.closest("ion-menu"))!==this.el&&this.el.focus(),document.addEventListener("focus",this.handleFocus,!0)):(this.el.removeAttribute("aria-hidden"),this.el.classList.remove(C),this.el.removeAttribute("tabindex"),this.contentEl&&(this.contentEl.classList.remove(S),this.contentEl.removeAttribute("aria-hidden")),this.backdropEl&&this.backdropEl.classList.remove(O),this.animation&&this.animation.stop(),this.ionDidClose.emit({role:t}),document.removeEventListener("focus",this.handleFocus,!0))}updateState(){const e=this._isActive();this.gesture&&this.gesture.enable(e&&this.swipeGesture),e||(this.isAnimating&&(this.operationCancelled=!0),this.afterAnimation(!1,p))}render(){const{type:e,disabled:t,el:i,isPaneVisible:n,inheritedAttributes:a,side:o}=this,s=x(this);return u(D,{key:"0a2ba4ff5600b80b54d1b5b45124779c6aa0d2f2",onKeyDown:V()?null:this.onKeydown,role:"navigation","aria-label":a["aria-label"]||"menu",class:{[s]:!0,[`menu-type-${e}`]:!0,"menu-enabled":!t,[`menu-side-${o}`]:!0,"menu-pane-visible":n,"split-pane-side":K("ion-split-pane",i)}},u("div",{key:"40a222bcde4b959abc9939c44e89ea0cf8967aba",class:"menu-inner",part:"container",ref:r=>this.menuInnerEl=r},u("slot",{key:"6a7ec5583294bb314990ff4ce6f25045652c07cb"})),u("ion-backdrop",{key:"95f1e87237f3cc24845d91b744f935bad6bb460d",ref:r=>this.backdropEl=r,class:"menu-backdrop",tappable:!1,stopPropagation:!1,part:"backdrop"}))}get el(){return I(this)}static get watchers(){return{type:["typeChanged"],disabled:["disabledChanged"],side:["sideChanged"],swipeGesture:["swipeGestureChanged"]}}},A=(e,t,i)=>Math.max(0,t!==i?-e:e),J=(e,t,i,n)=>i?t>=e.innerWidth-n:t<=n,C="show-menu",O="show-backdrop",S="menu-content-open";q.style={ios:N,md:X};export{q as ion_menu};
