import{f as e,w as t,r as o,h as n,H as i,e as s}from"./p-ca167607.js";import{g as a}from"./p-7a15c957.js";import{g as r,f as l,p as c}from"./p-cdbbf104.js";import{f as d,i as h}from"./p-0c75f9f6.js";import{h as p}from"./p-ff4ddc55.js";import"./p-1665515a.js";
/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const f="all 0.2s ease-in-out";const u=e=>{const t=document.querySelector(`${e}.ion-cloned-element`);if(t!==null){return t}const o=document.createElement(e);o.classList.add("ion-cloned-element");o.style.setProperty("display","none");document.body.appendChild(o);return o};const b=e=>{if(!e){return}const t=e.querySelectorAll("ion-toolbar");return{el:e,toolbars:Array.from(t).map((e=>{const t=e.querySelector("ion-title");return{el:e,background:e.shadowRoot.querySelector(".toolbar-background"),ionTitleEl:t,innerTitleEl:t?t.shadowRoot.querySelector(".toolbar-title"):null,ionButtonsEl:Array.from(e.querySelectorAll("ion-buttons"))}}))}};const A=(o,n,i)=>{e((()=>{const e=o.scrollTop;const s=d(1,1+-e/500,1.1);const a=i.querySelector("ion-refresher.refresher-native");if(a===null){t((()=>{k(n.toolbars,s)}))}}))};const g=(e,t)=>{if(e.collapse==="fade"){return}if(t===undefined){e.style.removeProperty("--opacity-scale")}else{e.style.setProperty("--opacity-scale",t.toString())}};const m=(e,t,o)=>{if(!e[0].isIntersecting){return}const n=e[0].intersectionRatio>.9||o<=0?0:(1-e[0].intersectionRatio)*100/75;g(t.el,n===1?undefined:n)};const y=(e,o,n,i)=>{t((()=>{const t=i.scrollTop;m(e,o,t);const s=e[0];const a=s.intersectionRect;const r=a.width*a.height;const l=s.rootBounds.width*s.rootBounds.height;const c=r===0&&l===0;const d=Math.abs(a.left-s.boundingClientRect.left);const h=Math.abs(a.right-s.boundingClientRect.right);const p=r>0&&(d>=5||h>=5);if(c||p){return}if(s.isIntersecting){x(o,false);x(n)}else{const e=a.x===0&&a.y===0||a.width!==0&&a.height!==0;if(e&&t>0){x(o);x(n,false);g(o.el)}}}))};const x=(e,t=true)=>{const o=e.el;if(t){o.classList.remove("header-collapse-condense-inactive");o.removeAttribute("aria-hidden")}else{o.classList.add("header-collapse-condense-inactive");o.setAttribute("aria-hidden","true")}};const k=(e=[],t=1,o=false)=>{e.forEach((e=>{const n=e.ionTitleEl;const i=e.innerTitleEl;if(!n||n.size!=="large"){return}i.style.transition=o?f:"";i.style.transform=`scale3d(${t}, ${t}, 1)`}))};const v=(o,n,i)=>{e((()=>{const e=o.scrollTop;const s=n.clientHeight;const a=i?i.clientHeight:0;if(i!==null&&e<a){n.style.setProperty("--opacity-scale","0");o.style.setProperty("clip-path",`inset(${s}px 0px 0px 0px)`);return}const r=e-a;const l=10;const c=d(0,r/l,1);t((()=>{o.style.removeProperty("clip-path");n.style.setProperty("--opacity-scale",c.toString())}))}))};const w="ion-header{display:block;position:relative;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-ios ion-toolbar:last-of-type{--border-width:0 0 0.55px}@supports (backdrop-filter: blur(0)){.header-background{left:0;right:0;top:0;bottom:0;position:absolute;backdrop-filter:saturate(180%) blur(20px)}.header-translucent-ios ion-toolbar{--opacity:.8}.header-collapse-condense-inactive .header-background{backdrop-filter:blur(20px)}}.header-ios.ion-no-border ion-toolbar:last-of-type{--border-width:0}.header-collapse-fade ion-toolbar{--opacity-scale:inherit}.header-collapse-condense{z-index:9}.header-collapse-condense ion-toolbar{position:sticky;top:0}.header-collapse-condense ion-toolbar:first-of-type{padding-top:7px;z-index:1}.header-collapse-condense ion-toolbar{--background:var(--ion-background-color, #fff);z-index:0}.header-collapse-condense ion-toolbar:last-of-type{--border-width:0px}.header-collapse-condense ion-toolbar ion-searchbar{height:48px;padding-top:0px;padding-bottom:13px}.header-collapse-main{--opacity-scale:1}.header-collapse-main ion-toolbar{--opacity-scale:inherit}.header-collapse-main ion-toolbar.in-toolbar ion-title,.header-collapse-main ion-toolbar.in-toolbar ion-buttons{transition:all 0.2s ease-in-out}.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive:not(.header-collapse-condense) ion-toolbar.in-toolbar ion-buttons.buttons-collapse{opacity:0;pointer-events:none}.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-title,.header-collapse-condense-inactive.header-collapse-condense ion-toolbar.in-toolbar ion-buttons.buttons-collapse{visibility:hidden}";const B='ion-header{display:block;position:relative;order:-1;width:100%;z-index:10}ion-header ion-toolbar:first-of-type{padding-top:var(--ion-safe-area-top, 0)}.header-md::after{bottom:-5px;background-position:left 0 top -2px;position:absolute;width:100%;height:5px;background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAHBAMAAADzDtBxAAAAD1BMVEUAAAAAAAAAAAAAAAAAAABPDueNAAAABXRSTlMUCS0gBIh/TXEAAAAaSURBVAjXYxCEAgY4UIICBmMogMsgFLtAAQCNSwXZKOdPxgAAAABJRU5ErkJggg==);background-repeat:repeat-x;content:""}@supports (inset-inline-start: 0){.header-md::after{inset-inline-start:0}}@supports not (inset-inline-start: 0){.header-md::after{left:0}[dir=rtl] .header-md::after,:host-context([dir=rtl]) .header-md::after{left:unset;right:unset;right:0}}[dir=rtl] .header-md::after,:host-context([dir=rtl]) .header-md::after{background-position:right 0 top -2px}.header-collapse-condense{display:none}.header-md.ion-no-border::after{display:none}';const j=class{constructor(e){o(this,e);this.inheritedAttributes={};this.setupFadeHeader=async(e,t)=>{const o=this.scrollEl=await r(e);this.contentScrollCallback=()=>{v(this.scrollEl,this.el,t)};o.addEventListener("scroll",this.contentScrollCallback);v(this.scrollEl,this.el,t)};this.collapse=undefined;this.translucent=false}componentWillLoad(){this.inheritedAttributes=h(this.el)}componentDidLoad(){this.checkCollapsibleHeader()}componentDidUpdate(){this.checkCollapsibleHeader()}disconnectedCallback(){this.destroyCollapsibleHeader()}async checkCollapsibleHeader(){const e=a(this);if(e!=="ios"){return}const{collapse:o}=this;const n=o==="condense";const i=o==="fade";this.destroyCollapsibleHeader();if(n){const e=this.el.closest("ion-app,ion-page,.ion-page,page-inner");const o=e?l(e):null;t((()=>{const e=u("ion-title");e.size="large";u("ion-back-button")}));await this.setupCondenseHeader(o,e)}else if(i){const e=this.el.closest("ion-app,ion-page,.ion-page,page-inner");const t=e?l(e):null;if(!t){c(this.el);return}const o=t.querySelector('ion-header[collapse="condense"]');await this.setupFadeHeader(t,o)}}destroyCollapsibleHeader(){if(this.intersectionObserver){this.intersectionObserver.disconnect();this.intersectionObserver=undefined}if(this.scrollEl&&this.contentScrollCallback){this.scrollEl.removeEventListener("scroll",this.contentScrollCallback);this.contentScrollCallback=undefined}if(this.collapsibleMainHeader){this.collapsibleMainHeader.classList.remove("header-collapse-main");this.collapsibleMainHeader=undefined}}async setupCondenseHeader(e,o){if(!e||!o){c(this.el);return}if(typeof IntersectionObserver==="undefined"){return}this.scrollEl=await r(e);const n=o.querySelectorAll("ion-header");this.collapsibleMainHeader=Array.from(n).find((e=>e.collapse!=="condense"));if(!this.collapsibleMainHeader){return}const i=b(this.collapsibleMainHeader);const s=b(this.el);if(!i||!s){return}x(i,false);g(i.el,0);const a=e=>{y(e,i,s,this.scrollEl)};this.intersectionObserver=new IntersectionObserver(a,{root:e,threshold:[.25,.3,.4,.5,.6,.7,.8,.9,1]});this.intersectionObserver.observe(s.toolbars[s.toolbars.length-1].el);this.contentScrollCallback=()=>{A(this.scrollEl,s,e)};this.scrollEl.addEventListener("scroll",this.contentScrollCallback);t((()=>{if(this.collapsibleMainHeader!==undefined){this.collapsibleMainHeader.classList.add("header-collapse-main")}}))}render(){const{translucent:e,inheritedAttributes:t}=this;const o=a(this);const s=this.collapse||"none";const r=p("ion-menu",this.el)?"none":"banner";return n(i,Object.assign({role:r,class:{[o]:true,[`header-${o}`]:true,[`header-translucent`]:this.translucent,[`header-collapse-${s}`]:true,[`header-translucent-${o}`]:this.translucent}},t),o==="ios"&&e&&n("div",{class:"header-background"}),n("slot",null))}get el(){return s(this)}};j.style={ios:w,md:B};export{j as ion_header};
//# sourceMappingURL=p-537263a7.entry.js.map