const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./ios.transition-Dz7YGMgV-k9Ij4O7z.js","./animation-eXUMda7n-B-UuVtt5.js","./index-BZN0_ThS.js","./iframe-2btVzJSD.js","./preload-helper-PPVm8Dsz.js","./iframe-auTIAgHH.css","./index-ZjP4CjeZ-C2-Wxc_X.js","./helpers-B-Uyga6H-DqI1dI1l.js","./md.transition-xB-PZwn1-Bl6vlb4u.js"])))=>i.map(i=>d[i]);
import{_ as w}from"./preload-helper-PPVm8Dsz.js";import{w as P,B as A,c as f,d as F}from"./index-BZN0_ThS.js";import{r as m}from"./helpers-B-Uyga6H-DqI1dI1l.js";const h="ionViewWillEnter",V="ionViewDidEnter",T="ionViewWillLeave",k="ionViewDidLeave",$="ionViewWillUnload";const s=e=>{e.tabIndex=-1,e.focus()},r=e=>e.offsetParent!==null,p=()=>({saveViewFocus:i=>{if(f.get("focusManagerPriority",!1)){const a=document.activeElement;a!==null&&i?.contains(a)&&a.setAttribute(E,"true")}},setViewFocus:i=>{const t=f.get("focusManagerPriority",!1);if(Array.isArray(t)&&!i.contains(document.activeElement)){const a=i.querySelector(`[${E}]`);if(a&&r(a)){s(a);return}for(const o of t)switch(o){case"content":const l=i.querySelector('main, [role="main"]');if(l&&r(l)){s(l);return}break;case"heading":const d=i.querySelector('h1, [role="heading"][aria-level="1"]');if(d&&r(d)){s(d);return}break;case"banner":const u=i.querySelector('header, [role="banner"]');if(u&&r(u)){s(u);return}break;default:F(`Unrecognized focus manager priority value ${o}`);break}s(i)}}}),E="ion-last-focus";const D=()=>w(()=>import("./ios.transition-Dz7YGMgV-k9Ij4O7z.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url),W=()=>w(()=>import("./md.transition-xB-PZwn1-Bl6vlb4u.js"),__vite__mapDeps([8,1,2,3,4,5,6,7]),import.meta.url),L=p(),G=e=>new Promise((n,i)=>{P(()=>{const t=Y(e);R(e,t),S(e).then(a=>{a.animation&&a.animation.destroy(),v(e),n(a)},a=>{v(e),i(a)}).finally(()=>{I(t,!1)})})}),R=(e,n)=>{const i=e.enteringEl,t=e.leavingEl;L.saveViewFocus(t),H(i,t,e.direction),I(n,!0),e.showGoBack?i.classList.add("can-go-back"):i.classList.remove("can-go-back"),y(i,!1),i.style.setProperty("pointer-events","none"),t&&(y(t,!1),t.style.setProperty("pointer-events","none"))},S=async e=>{const n=await B(e);return n&&A.isBrowser?M(n,e):O(e)},v=e=>{const n=e.enteringEl,i=e.leavingEl;n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events"),i!==void 0&&(i.classList.remove("ion-page-invisible"),i.style.removeProperty("pointer-events")),L.setViewFocus(n)},B=async e=>!e.leavingEl||!e.animated||e.duration===0?void 0:e.animationBuilder?e.animationBuilder:e.mode==="ios"?(await D()).iosTransitionAnimation:(await W()).mdTransitionAnimation,M=async(e,n)=>{await b(n,!0);const i=e(n.baseEl,n);_(n.enteringEl,n.leavingEl);const t=await x(i,n);return n.progressCallback&&n.progressCallback(void 0),t&&C(n.enteringEl,n.leavingEl),{hasCompleted:t,animation:i}},O=async e=>{const n=e.enteringEl,i=e.leavingEl,t=f.get("focusManagerPriority",!1);return await b(e,t),_(n,i),C(n,i),{hasCompleted:!0}},b=async(e,n)=>{(e.deepWait!==void 0?e.deepWait:n)&&await Promise.all([g(e.enteringEl),g(e.leavingEl)]),await q(e.viewIsReady,e.enteringEl)},q=async(e,n)=>{e&&await e(n)},x=(e,n)=>{const i=n.progressCallback,t=new Promise(a=>{e.onFinish(o=>a(o===1))});return i?(e.progressStart(!0),i(e)):e.play(),t},_=(e,n)=>{c(n,T),c(e,h)},C=(e,n)=>{c(e,V),c(n,k)},c=(e,n)=>{if(e){const i=new CustomEvent(n,{bubbles:!1,cancelable:!1});e.dispatchEvent(i)}},Z=()=>new Promise(e=>m(()=>m(()=>e()))),g=async e=>{const n=e;if(n){if(n.componentOnReady!=null){if(await n.componentOnReady()!=null)return}else if(n.__registerHost!=null){await new Promise(t=>m(t));return}await Promise.all(Array.from(n.children).map(g))}},y=(e,n)=>{n?(e.setAttribute("aria-hidden","true"),e.classList.add("ion-page-hidden")):(e.hidden=!1,e.removeAttribute("aria-hidden"),e.classList.remove("ion-page-hidden"))},H=(e,n,i)=>{e!==void 0&&(e.style.zIndex=i==="back"?"99":"101"),n!==void 0&&(n.style.zIndex="100")},I=(e,n)=>{if(!e)return;const i="header-transitioning";n?e.classList.add(i):e.classList.remove(i)},j=e=>{if(e.classList.contains("ion-page"))return e;const n=e.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return n||e},Y=e=>{const n=e.enteringEl,i=e.leavingEl,t=e.direction;if(e.mode!=="ios")return null;const o=t==="back"?i:n;return o?o.querySelector("ion-header"):null};export{$ as L,T as a,k as b,g as d,j as g,c as l,y as s,G as t,Z as w};
