import{r as t,h as i,H as o,d as n,e}from"./p-ca167607.js";import{g as r,a as s}from"./p-7a15c957.js";import{r as a,g as c}from"./p-0c75f9f6.js";import{a as l,b as d,c as u}from"./p-876d61da.js";import{c as h}from"./p-ff4ddc55.js";const p=".sc-ion-buttons-ios-h{display:flex;align-items:center;transform:translateZ(0);z-index:99}.sc-ion-buttons-ios-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-ios-s ion-button{--padding-start:5px;--padding-end:5px;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;height:32px}.sc-ion-buttons-ios-s ion-button:not(.button-round){--border-radius:4px}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button{--color:initial;--border-color:initial;--background-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-solid,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-solid{--background:var(--ion-color-contrast);--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12;--background-hover:var(--ion-color-base);--background-hover-opacity:0.45;--color:var(--ion-color-base);--color-focused:var(--ion-color-base)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-clear,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-clear{--color-activated:var(--ion-color-contrast);--color-focused:var(--ion-color-contrast)}.sc-ion-buttons-ios-h.ion-color.sc-ion-buttons-ios-s .button-outline,.ion-color .sc-ion-buttons-ios-h.sc-ion-buttons-ios-s .button-outline{--color-activated:var(--ion-color-base);--color-focused:var(--ion-color-contrast);--background-activated:var(--ion-color-contrast)}.sc-ion-buttons-ios-s .button-clear,.sc-ion-buttons-ios-s .button-outline{--background-activated:transparent;--background-focused:currentColor;--background-hover:transparent}.sc-ion-buttons-ios-s .button-solid:not(.ion-color){--background-focused:#000;--background-focused-opacity:.12;--background-activated:#000;--background-activated-opacity:.12}.sc-ion-buttons-ios-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:24px;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:24px;line-height:0.67}.sc-ion-buttons-ios-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:28px;line-height:0.67}";const g=".sc-ion-buttons-md-h{display:flex;align-items:center;transform:translateZ(0);z-index:99}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}.sc-ion-buttons-md-s ion-button{--padding-top:0;--padding-bottom:0;--padding-start:8px;--padding-end:8px;--box-shadow:none;-webkit-margin-start:2px;margin-inline-start:2px;-webkit-margin-end:2px;margin-inline-end:2px;height:32px}.sc-ion-buttons-md-s ion-button:not(.button-round){--border-radius:2px}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button{--color:initial;--color-focused:var(--ion-color-contrast);--color-hover:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-contrast);--background-hover:var(--ion-color-contrast)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-solid,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-solid{--background:var(--ion-color-contrast);--background-activated:transparent;--background-focused:var(--ion-color-shade);--background-hover:var(--ion-color-base);--color:var(--ion-color-base);--color-focused:var(--ion-color-base);--color-hover:var(--ion-color-base)}.sc-ion-buttons-md-h.ion-color.sc-ion-buttons-md-s .button-outline,.ion-color .sc-ion-buttons-md-h.sc-ion-buttons-md-s .button-outline{--border-color:var(--ion-color-contrast)}.sc-ion-buttons-md-s .button-has-icon-only.button-clear{--padding-top:12px;--padding-end:12px;--padding-bottom:12px;--padding-start:12px;--border-radius:50%;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;width:48px;height:48px}.sc-ion-buttons-md-s .button{--background-hover:currentColor}.sc-ion-buttons-md-s .button-solid{--color:var(--ion-toolbar-background, var(--ion-background-color, #fff));--background:var(--ion-toolbar-color, var(--ion-text-color, #424242));--background-activated:transparent;--background-focused:currentColor}.sc-ion-buttons-md-s .button-outline{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--border-color:currentColor}.sc-ion-buttons-md-s .button-clear{--color:initial;--background:transparent;--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor}.sc-ion-buttons-md-s ion-icon[slot=start]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-end:0.3em;margin-inline-end:0.3em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=end]{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-margin-start:0.4em;margin-inline-start:0.4em;font-size:1.4em}.sc-ion-buttons-md-s ion-icon[slot=icon-only]{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;font-size:1.8em}";const b=class{constructor(i){t(this,i);this.collapse=false}render(){const t=r(this);return i(o,{class:{[t]:true,["buttons-collapse"]:this.collapse}})}};b.style={ios:p,md:g};const m=":host{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0px;padding-bottom:0px;height:200px;outline:none;font-size:22px;scroll-snap-type:y mandatory;overflow-x:hidden;overflow-y:scroll;scrollbar-width:none;text-align:center}:host::-webkit-scrollbar{display:none}:host .picker-item{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;height:34px;border:0px;outline:none;background:transparent;color:inherit;font-family:var(--ion-font-family, inherit);font-size:inherit;line-height:34px;text-align:inherit;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;overflow:hidden;scroll-snap-align:center}:host .picker-item-empty,:host .picker-item.picker-item-disabled{scroll-snap-align:none;cursor:default}:host .picker-item.picker-item-disabled{opacity:0.4}:host(.picker-column-active) .picker-item.picker-item-active{color:var(--ion-color-base)}@media (any-hover: hover){:host(:focus){outline:none;background:rgba(var(--ion-color-base-rgb), 0.2)}}";const f=":host{-webkit-padding-start:16px;padding-inline-start:16px;-webkit-padding-end:16px;padding-inline-end:16px;padding-top:0px;padding-bottom:0px;height:200px;outline:none;font-size:22px;scroll-snap-type:y mandatory;overflow-x:hidden;overflow-y:scroll;scrollbar-width:none;text-align:center}:host::-webkit-scrollbar{display:none}:host .picker-item{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;display:block;width:100%;height:34px;border:0px;outline:none;background:transparent;color:inherit;font-family:var(--ion-font-family, inherit);font-size:inherit;line-height:34px;text-align:inherit;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;overflow:hidden;scroll-snap-align:center}:host .picker-item-empty,:host .picker-item.picker-item-disabled{scroll-snap-align:none;cursor:default}:host .picker-item.picker-item-disabled{opacity:0.4}:host(.picker-column-active) .picker-item.picker-item-active{color:var(--ion-color-base)}@media (any-hover: hover){:host(:focus){outline:none;background:rgba(var(--ion-color-base-rgb), 0.2)}}:host .picker-item-active{color:var(--ion-color-base)}";const k=class{constructor(i){t(this,i);this.ionChange=n(this,"ionChange",7);this.isScrolling=false;this.isColumnVisible=false;this.canExitInputMode=true;this.centerPickerItemInView=(t,i=true,o=true)=>{const{el:n,isColumnVisible:e}=this;if(e){const e=t.offsetTop-3*t.clientHeight+t.clientHeight/2;if(n.scrollTop!==e){this.canExitInputMode=o;n.scroll({top:e,left:0,behavior:i?"smooth":undefined})}}};this.inputModeChange=t=>{if(!this.numericInput){return}const{useInputMode:i,inputModeColumn:o}=t.detail;const n=o===undefined||o===this.el;if(!i||!n){this.setInputModeActive(false);return}this.setInputModeActive(true)};this.setInputModeActive=t=>{if(this.isScrolling){this.scrollEndCallback=()=>{this.isActive=t};return}this.isActive=t};this.initializeScrollListener=()=>{const t=s("ios");const{el:i}=this;let o;let n=this.activeItem;const e=()=>{a((()=>{if(o){clearTimeout(o);o=undefined}if(!this.isScrolling){t&&l();this.isScrolling=true}const e=i.getBoundingClientRect();const r=e.x+e.width/2;const s=e.y+e.height/2;const a=i.shadowRoot.elementFromPoint(r,s);if(n!==null){n.classList.remove(v)}if(a===null||a.disabled){return}if(a!==n){t&&d();if(this.canExitInputMode){this.exitInputMode()}}n=a;a.classList.add(v);o=setTimeout((()=>{this.isScrolling=false;t&&u();const{scrollEndCallback:i}=this;if(i){i();this.scrollEndCallback=undefined}this.canExitInputMode=true;const o=a.getAttribute("data-index");if(o===null){return}const n=parseInt(o,10);const e=this.items[n];if(e.value!==this.value){this.setValue(e.value)}}),250)}))};a((()=>{i.addEventListener("scroll",e);this.destroyScrollListener=()=>{i.removeEventListener("scroll",e)}}))};this.exitInputMode=()=>{const{parentEl:t}=this;if(t==null)return;t.exitInputMode();this.el.classList.remove("picker-column-active")};this.isActive=false;this.items=[];this.value=undefined;this.color="primary";this.numericInput=false}valueChange(){if(this.isColumnVisible){this.scrollActiveItemIntoView()}}componentWillLoad(){const t=t=>{var i;const o=t[0];if(o.isIntersecting){this.isColumnVisible=true;const t=c(this.el).querySelector(`.${v}`);t===null||t===void 0?void 0:t.classList.remove(v);this.scrollActiveItemIntoView();(i=this.activeItem)===null||i===void 0?void 0:i.classList.add(v);this.initializeScrollListener()}else{this.isColumnVisible=false;if(this.destroyScrollListener){this.destroyScrollListener();this.destroyScrollListener=undefined}}};new IntersectionObserver(t,{threshold:.001}).observe(this.el);const i=this.parentEl=this.el.closest("ion-picker-internal");if(i!==null){i.addEventListener("ionInputModeChange",(t=>this.inputModeChange(t)))}}componentDidRender(){var t;const{activeItem:i,items:o,isColumnVisible:n,value:e}=this;if(n){if(i){this.scrollActiveItemIntoView()}else if(((t=o[0])===null||t===void 0?void 0:t.value)!==e){this.setValue(o[0].value)}}}async scrollActiveItemIntoView(){const t=this.activeItem;if(t){this.centerPickerItemInView(t,false,false)}}async setValue(t){const{items:i}=this;this.value=t;const o=i.find((i=>i.value===t&&i.disabled!==true));if(o){this.ionChange.emit(o)}}get activeItem(){return c(this.el).querySelector(`.picker-item[data-value="${this.value}"]:not([disabled])`)}render(){const{items:t,color:n,isActive:e,numericInput:s}=this;const a=r(this);return i(o,{tabindex:0,class:h(n,{[a]:true,["picker-column-active"]:e,["picker-column-numeric-input"]:s})},i("div",{class:"picker-item picker-item-empty","aria-hidden":"true"}," "),i("div",{class:"picker-item picker-item-empty","aria-hidden":"true"}," "),i("div",{class:"picker-item picker-item-empty","aria-hidden":"true"}," "),t.map(((t,o)=>i("button",{tabindex:"-1",class:{"picker-item":true,"picker-item-disabled":t.disabled||false},"data-value":t.value,"data-index":o,onClick:t=>{this.centerPickerItemInView(t.target,true)},disabled:t.disabled},t.text))),i("div",{class:"picker-item picker-item-empty","aria-hidden":"true"}," "),i("div",{class:"picker-item picker-item-empty","aria-hidden":"true"}," "),i("div",{class:"picker-item picker-item-empty","aria-hidden":"true"}," "))}get el(){return e(this)}static get watchers(){return{value:["valueChange"]}}};const v="picker-item-active";k.style={ios:m,md:f};const x=":host{display:flex;position:relative;align-items:center;justify-content:center;width:100%;height:200px;direction:ltr;z-index:0}:host .picker-before,:host .picker-after{position:absolute;width:100%;transform:translateZ(0);z-index:1;pointer-events:none}:host .picker-before{top:0;height:83px}@supports (inset-inline-start: 0){:host .picker-before{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host .picker-before{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}}:host .picker-after{top:116px;height:84px}@supports (inset-inline-start: 0){:host .picker-after{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host .picker-after{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}}:host .picker-highlight{border-radius:8px;left:0;right:0;top:50%;bottom:0;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;position:absolute;width:calc(100% - 16px);height:34px;transform:translateY(-50%);z-index:-1}:host input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host ::slotted(ion-picker-column-internal:first-of-type){text-align:start}:host ::slotted(ion-picker-column-internal:last-of-type){text-align:end}:host ::slotted(ion-picker-column-internal:only-child){text-align:center}:host .picker-before{background:linear-gradient(to bottom, var(--background, var(--ion-background-color, #fff)) 20%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%)}:host .picker-after{background:linear-gradient(to top, var(--background, var(--ion-background-color, #fff)) 20%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0.8) 100%)}:host .picker-highlight{background:var(--ion-color-step-150, #eeeeef)}";const y=":host{display:flex;position:relative;align-items:center;justify-content:center;width:100%;height:200px;direction:ltr;z-index:0}:host .picker-before,:host .picker-after{position:absolute;width:100%;transform:translateZ(0);z-index:1;pointer-events:none}:host .picker-before{top:0;height:83px}@supports (inset-inline-start: 0){:host .picker-before{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host .picker-before{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}}:host .picker-after{top:116px;height:84px}@supports (inset-inline-start: 0){:host .picker-after{inset-inline-start:0}}@supports not (inset-inline-start: 0){:host .picker-after{left:0}:host-context([dir=rtl]){left:unset;right:unset;right:0}}:host .picker-highlight{border-radius:8px;left:0;right:0;top:50%;bottom:0;-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:0;margin-bottom:0;position:absolute;width:calc(100% - 16px);height:34px;transform:translateY(-50%);z-index:-1}:host input{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;height:100%;margin:0;padding:0;border:0;outline:0;clip:rect(0 0 0 0);opacity:0;overflow:hidden;-webkit-appearance:none;-moz-appearance:none}:host ::slotted(ion-picker-column-internal:first-of-type){text-align:start}:host ::slotted(ion-picker-column-internal:last-of-type){text-align:end}:host ::slotted(ion-picker-column-internal:only-child){text-align:center}:host .picker-before{background:linear-gradient(to bottom, var(--background, var(--ion-background-color, #fff)) 20%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0) 90%)}:host .picker-after{background:linear-gradient(to top, var(--background, var(--ion-background-color, #fff)) 30%, rgba(var(--background-rgb, var(--ion-background-color-rgb, 255, 255, 255)), 0) 90%)}";const w=class{constructor(i){t(this,i);this.ionInputModeChange=n(this,"ionInputModeChange",7);this.useInputMode=false;this.isInHighlightBounds=t=>{const{highlightEl:i}=this;if(!i){return false}const o=i.getBoundingClientRect();const n=t.clientX<o.left||t.clientX>o.right;const e=t.clientY<o.top||t.clientY>o.bottom;if(n||e){return false}return true};this.onFocusOut=t=>{const{relatedTarget:i}=t;if(!i||i.tagName!=="ION-PICKER-COLUMN-INTERNAL"&&i!==this.inputEl){this.exitInputMode()}};this.onFocusIn=t=>{const{target:i}=t;if(i.tagName!=="ION-PICKER-COLUMN-INTERNAL"){return}if(!this.actionOnClick){const t=i;const o=t.numericInput;if(o){this.enterInputMode(t,false)}else{this.exitInputMode()}}};this.onClick=()=>{const{actionOnClick:t}=this;if(t){t();this.actionOnClick=undefined}};this.onPointerDown=t=>{const{useInputMode:i,inputModeColumn:o,el:n}=this;if(this.isInHighlightBounds(t)){if(i){if(t.target.tagName==="ION-PICKER-COLUMN-INTERNAL"){if(o&&o===t.target){this.actionOnClick=()=>{this.enterInputMode()}}else{this.actionOnClick=()=>{this.enterInputMode(t.target)}}}else{this.actionOnClick=()=>{this.exitInputMode()}}}else{const i=n.querySelectorAll("ion-picker-column-internal.picker-column-numeric-input");const o=i.length===1?t.target:undefined;this.actionOnClick=()=>{this.enterInputMode(o)}}return}this.actionOnClick=()=>{this.exitInputMode()}};this.enterInputMode=(t,i=true)=>{const{inputEl:o,el:n}=this;if(!o){return}const e=n.querySelector("ion-picker-column-internal.picker-column-numeric-input");if(!e){return}this.useInputMode=true;this.inputModeColumn=t;if(i){if(this.destroyKeypressListener){this.destroyKeypressListener();this.destroyKeypressListener=undefined}o.focus()}else{n.addEventListener("keypress",this.onKeyPress);this.destroyKeypressListener=()=>{n.removeEventListener("keypress",this.onKeyPress)}}this.emitInputModeChange()};this.onKeyPress=t=>{const{inputEl:i}=this;if(!i){return}const o=parseInt(t.key,10);if(!Number.isNaN(o)){i.value+=t.key;this.onInputChange()}};this.selectSingleColumn=()=>{const{inputEl:t,inputModeColumn:i,singleColumnSearchTimeout:o}=this;if(!t||!i){return}const n=i.items.filter((t=>t.disabled!==true));if(o){clearTimeout(o)}this.singleColumnSearchTimeout=setTimeout((()=>{t.value="";this.singleColumnSearchTimeout=undefined}),1e3);if(t.value.length>=3){const i=t.value.length-2;const o=t.value.substring(i);t.value=o;this.selectSingleColumn();return}const e=n.find((({text:i})=>{const o=i.replace(/^0+(?=[1-9])|0+(?=0$)/,"");return o===t.value}));if(e){i.setValue(e.value);return}if(t.value.length===2){const i=t.value.substring(t.value.length-1);t.value=i;this.selectSingleColumn()}};this.searchColumn=(t,i,o="start")=>{const n=o==="start"?/^0+/:/0$/;const e=t.items.find((({text:t,disabled:o})=>o!==true&&t.replace(n,"")===i));if(e){t.setValue(e.value)}};this.selectMultiColumn=()=>{const{inputEl:t,el:i}=this;if(!t){return}const o=Array.from(i.querySelectorAll("ion-picker-column-internal")).filter((t=>t.numericInput));const n=o[0];const e=o[1];let r=t.value;let s;switch(r.length){case 1:this.searchColumn(n,r);break;case 2:const i=t.value.substring(0,1);r=i==="0"||i==="1"?t.value:i;this.searchColumn(n,r);if(r.length===1){s=t.value.substring(t.value.length-1);this.searchColumn(e,s,"end")}break;case 3:const o=t.value.substring(0,1);r=o==="0"||o==="1"?t.value.substring(0,2):o;this.searchColumn(n,r);s=r.length===1?t.value.substring(1):t.value.substring(2);this.searchColumn(e,s,"end");break;case 4:const a=t.value.substring(0,1);r=a==="0"||a==="1"?t.value.substring(0,2):a;this.searchColumn(n,r);const c=r.length===1?t.value.substring(1,t.value.length):t.value.substring(2,t.value.length);this.searchColumn(e,c,"end");break;default:const l=t.value.length-4;const d=t.value.substring(l);t.value=d;this.selectMultiColumn();break}};this.onInputChange=()=>{const{useInputMode:t,inputEl:i,inputModeColumn:o}=this;if(!t||!i){return}if(o){this.selectSingleColumn()}else{this.selectMultiColumn()}};this.emitInputModeChange=()=>{const{useInputMode:t,inputModeColumn:i}=this;this.ionInputModeChange.emit({useInputMode:t,inputModeColumn:i})}}preventTouchStartPropagation(t){t.stopPropagation()}componentWillLoad(){c(this.el).addEventListener("focusin",this.onFocusIn);c(this.el).addEventListener("focusout",this.onFocusOut)}async exitInputMode(){const{inputEl:t,useInputMode:i}=this;if(!i||!t){return}this.useInputMode=false;this.inputModeColumn=undefined;t.blur();t.value="";if(this.destroyKeypressListener){this.destroyKeypressListener();this.destroyKeypressListener=undefined}this.emitInputModeChange()}render(){return i(o,{onPointerDown:t=>this.onPointerDown(t),onClick:()=>this.onClick()},i("input",{"aria-hidden":"true",tabindex:-1,inputmode:"numeric",type:"number",ref:t=>this.inputEl=t,onInput:()=>this.onInputChange(),onBlur:()=>this.exitInputMode()}),i("div",{class:"picker-before"}),i("div",{class:"picker-after"}),i("div",{class:"picker-highlight",ref:t=>this.highlightEl=t}),i("slot",null))}get el(){return e(this)}};w.style={ios:x,md:y};export{b as ion_buttons,k as ion_picker_column_internal,w as ion_picker_internal};
//# sourceMappingURL=p-9f691124.entry.js.map