/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
const o="ion-focused",t=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],e=e=>{let n=[],s=!0;const c=e?e.shadowRoot:document,u=e||document.body,r=t=>{n.forEach((t=>t.classList.remove(o))),t.forEach((t=>t.classList.add(o))),n=t},d=()=>{s=!1,r([])},f=o=>{s=t.includes(o.key),s||r([])},w=o=>{if(s&&void 0!==o.composedPath){const t=o.composedPath().filter((o=>!!o.classList&&o.classList.contains("ion-focusable")));r(t)}},i=()=>{c.activeElement===u&&r([])};return c.addEventListener("keydown",f),c.addEventListener("focusin",w),c.addEventListener("focusout",i),c.addEventListener("touchstart",d),c.addEventListener("mousedown",d),{destroy:()=>{c.removeEventListener("keydown",f),c.removeEventListener("focusin",w),c.removeEventListener("focusout",i),c.removeEventListener("touchstart",d),c.removeEventListener("mousedown",d)},setFocus:r}};export{e as startFocusVisible}