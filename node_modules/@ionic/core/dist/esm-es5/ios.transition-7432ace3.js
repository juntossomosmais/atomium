/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
import{c as createAnimation}from"./animation-9a890cad.js";import{g as getIonPageElement}from"./index-93867f4c.js";import"./helpers-5eb6364d.js";import"./index-33ffec25.js";import"./index-be218d70.js";var DURATION=540;var getClonedElement=function(t){return document.querySelector("".concat(t,".ion-cloned-element"))};var shadow=function(t){return t.shadowRoot||t};var getLargeTitle=function(t){var e=t.tagName==="ION-TABS"?t:t.querySelector("ion-tabs");var a="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(e!=null){var o=e.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return o!=null?o.querySelector(a):null}return t.querySelector(a)};var getBackButton=function(t,e){var a=t.tagName==="ION-TABS"?t:t.querySelector("ion-tabs");var o=[];if(a!=null){var r=a.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");if(r!=null){o=r.querySelectorAll("ion-buttons")}}else{o=t.querySelectorAll("ion-buttons")}for(var n=0,i=o;n<i.length;n++){var l=i[n];var c=l.closest("ion-header");var s=c&&!c.classList.contains("header-collapse-condense-inactive");var d=l.querySelector("ion-back-button");var f=l.classList.contains("buttons-collapse");var m=l.slot==="start"||l.slot==="";if(d!==null&&m&&(f&&s&&e||!f)){return d}}return null};var createLargeTitleTransition=function(t,e,a,o,r){var n=getBackButton(o,a);var i=getLargeTitle(r);var l=getLargeTitle(o);var c=getBackButton(r,a);var s=n!==null&&i!==null&&!a;var d=l!==null&&c!==null&&a;if(s){var f=i.getBoundingClientRect();var m=n.getBoundingClientRect();animateLargeTitle(t,e,a,i,f,m);animateBackButton(t,e,a,n,f,m)}else if(d){var v=l.getBoundingClientRect();var p=c.getBoundingClientRect();animateLargeTitle(t,e,a,l,v,p);animateBackButton(t,e,a,c,v,p)}return{forward:s,backward:d}};var animateBackButton=function(t,e,a,o,r,n){var i=e?"calc(100% - ".concat(n.right+4,"px)"):"".concat(n.left-4,"px");var l=e?"7px":"-7px";var c=e?"-4px":"4px";var s=e?"-4px":"4px";var d=e?"right":"left";var f=e?"left":"right";var m=[{offset:0,opacity:0,transform:"translate3d(".concat(l,", ").concat(r.top-40,"px, 0) scale(2.1)")},{offset:1,opacity:1,transform:"translate3d(".concat(c,", ").concat(n.top-46,"px, 0) scale(1)")}];var v=[{offset:0,opacity:1,transform:"translate3d(".concat(c,", ").concat(n.top-46,"px, 0) scale(1)")},{offset:.6,opacity:0},{offset:1,opacity:0,transform:"translate3d(".concat(l,", ").concat(r.top-40,"px, 0) scale(2.1)")}];var p=a?v:m;var u=[{offset:0,opacity:0,transform:"translate3d(".concat(s,", ").concat(n.top-41,"px, 0) scale(0.6)")},{offset:1,opacity:1,transform:"translate3d(".concat(s,", ").concat(n.top-46,"px, 0) scale(1)")}];var y=[{offset:0,opacity:1,transform:"translate3d(".concat(s,", ").concat(n.top-46,"px, 0) scale(1)")},{offset:.2,opacity:0,transform:"translate3d(".concat(s,", ").concat(n.top-41,"px, 0) scale(0.6)")},{offset:1,opacity:0,transform:"translate3d(".concat(s,", ").concat(n.top-41,"px, 0) scale(0.6)")}];var g=a?y:u;var b=createAnimation();var A=createAnimation();var S=getClonedElement("ion-back-button");var T=shadow(S).querySelector(".button-text");var h=shadow(S).querySelector("ion-icon");S.text=o.text;S.mode=o.mode;S.icon=o.icon;S.color=o.color;S.disabled=o.disabled;S.style.setProperty("display","block");S.style.setProperty("position","fixed");A.addElement(h);b.addElement(T);b.beforeStyles({"transform-origin":"".concat(d," center")}).beforeAddWrite((function(){o.style.setProperty("display","none");S.style.setProperty(d,i)})).afterAddWrite((function(){o.style.setProperty("display","");S.style.setProperty("display","none");S.style.removeProperty(d)})).keyframes(p);A.beforeStyles({"transform-origin":"".concat(f," center")}).keyframes(g);t.addAnimation([b,A])};var animateLargeTitle=function(t,e,a,o,r,n){var i;var l=e?"calc(100% - ".concat(r.right,"px)"):"".concat(r.left,"px");var c=e?"-18px":"18px";var s=e?"right":"left";var d=[{offset:0,opacity:0,transform:"translate3d(".concat(c,", ").concat(n.top-4,"px, 0) scale(0.49)")},{offset:.1,opacity:0},{offset:1,opacity:1,transform:"translate3d(0, ".concat(r.top-2,"px, 0) scale(1)")}];var f=[{offset:0,opacity:.99,transform:"translate3d(0, ".concat(r.top-2,"px, 0) scale(1)")},{offset:.6,opacity:0},{offset:1,opacity:0,transform:"translate3d(".concat(c,", ").concat(n.top-4,"px, 0) scale(0.5)")}];var m=a?d:f;var v=getClonedElement("ion-title");var p=createAnimation();v.innerText=o.innerText;v.size=o.size;v.color=o.color;p.addElement(v);p.beforeStyles((i={"transform-origin":"".concat(s," center"),height:"46px",display:"",position:"relative"},i[s]=l,i)).beforeAddWrite((function(){o.style.setProperty("display","none")})).afterAddWrite((function(){o.style.setProperty("display","");v.style.setProperty("display","none")})).keyframes(m);t.addAnimation(p)};var iosTransitionAnimation=function(t,e){var a;try{var o="cubic-bezier(0.32,0.72,0,1)";var r="opacity";var n="transform";var i="0%";var l=.8;var c=t.ownerDocument.dir==="rtl";var s=c?"-99.5%":"99.5%";var d=c?"33%":"-33%";var f=e.enteringEl;var m=e.leavingEl;var v=e.direction==="back";var p=f.querySelector(":scope > ion-content");var u=f.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");var y=f.querySelectorAll(":scope > ion-header > ion-toolbar");var g=createAnimation();var b=createAnimation();g.addElement(f).duration(((a=e.duration)!==null&&a!==void 0?a:0)||DURATION).easing(e.easing||o).fill("both").beforeRemoveClass("ion-page-invisible");if(m&&t!==null&&t!==undefined){var A=createAnimation();A.addElement(t);g.addAnimation(A)}if(!p&&y.length===0&&u.length===0){b.addElement(f.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs"))}else{b.addElement(p);b.addElement(u)}g.addAnimation(b);if(v){b.beforeClearStyles([r]).fromTo("transform","translateX(".concat(d,")"),"translateX(".concat(i,")")).fromTo(r,l,1)}else{b.beforeClearStyles([r]).fromTo("transform","translateX(".concat(s,")"),"translateX(".concat(i,")"))}if(p){var S=shadow(p).querySelector(".transition-effect");if(S){var T=S.querySelector(".transition-cover");var h=S.querySelector(".transition-shadow");var x=createAnimation();var E=createAnimation();var q=createAnimation();x.addElement(S).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""});E.addElement(T).beforeClearStyles([r]).fromTo(r,0,.1);q.addElement(h).beforeClearStyles([r]).fromTo(r,.03,.7);x.addAnimation([E,q]);b.addAnimation([x])}}var X=f.querySelector("ion-header.header-collapse-condense");var C=createLargeTitleTransition(g,c,v,f,m),k=C.forward,w=C.backward;y.forEach((function(t){var e=createAnimation();e.addElement(t);g.addAnimation(e);var a=createAnimation();a.addElement(t.querySelector("ion-title"));var o=createAnimation();var n=Array.from(t.querySelectorAll("ion-buttons,[menuToggle]"));var l=t.closest("ion-header");var f=l===null||l===void 0?void 0:l.classList.contains("header-collapse-condense-inactive");var m;if(v){m=n.filter((function(t){var e=t.classList.contains("buttons-collapse");return e&&!f||!e}))}else{m=n.filter((function(t){return!t.classList.contains("buttons-collapse")}))}o.addElement(m);var p=createAnimation();p.addElement(t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));var u=createAnimation();u.addElement(shadow(t).querySelector(".toolbar-background"));var y=createAnimation();var b=t.querySelector("ion-back-button");if(b){y.addElement(b)}e.addAnimation([a,o,p,u,y]);o.fromTo(r,.01,1);p.fromTo(r,.01,1);if(v){if(!f){a.fromTo("transform","translateX(".concat(d,")"),"translateX(".concat(i,")")).fromTo(r,.01,1)}p.fromTo("transform","translateX(".concat(d,")"),"translateX(".concat(i,")"));y.fromTo(r,.01,1)}else{if(!X){a.fromTo("transform","translateX(".concat(s,")"),"translateX(".concat(i,")")).fromTo(r,.01,1)}p.fromTo("transform","translateX(".concat(s,")"),"translateX(".concat(i,")"));u.beforeClearStyles([r,"transform"]);var A=l===null||l===void 0?void 0:l.translucent;if(!A){u.fromTo(r,.01,"var(--opacity)")}else{u.fromTo("transform",c?"translateX(-100%)":"translateX(100%)","translateX(0px)")}if(!k){y.fromTo(r,.01,1)}if(b&&!k){var S=createAnimation();S.addElement(shadow(b).querySelector(".button-text")).fromTo("transform",c?"translateX(-100px)":"translateX(100px)","translateX(0px)");e.addAnimation(S)}}}));if(m){var B=createAnimation();var L=m.querySelector(":scope > ion-content");var P=m.querySelectorAll(":scope > ion-header > ion-toolbar");var R=m.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(!L&&P.length===0&&R.length===0){B.addElement(m.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs"))}else{B.addElement(L);B.addElement(R)}g.addAnimation(B);if(v){B.beforeClearStyles([r]).fromTo("transform","translateX(".concat(i,")"),c?"translateX(-100%)":"translateX(100%)");var I=getIonPageElement(m);g.afterAddWrite((function(){if(g.getDirection()==="normal"){I.style.setProperty("display","none")}}))}else{B.fromTo("transform","translateX(".concat(i,")"),"translateX(".concat(d,")")).fromTo(r,1,l)}if(L){var N=shadow(L).querySelector(".transition-effect");if(N){var j=N.querySelector(".transition-cover");var W=N.querySelector(".transition-shadow");var D=createAnimation();var O=createAnimation();var z=createAnimation();D.addElement(N).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""});O.addElement(j).beforeClearStyles([r]).fromTo(r,.1,0);z.addElement(W).beforeClearStyles([r]).fromTo(r,.7,.03);D.addAnimation([O,z]);B.addAnimation([D])}}P.forEach((function(t){var e=createAnimation();e.addElement(t);var a=createAnimation();a.addElement(t.querySelector("ion-title"));var o=createAnimation();var l=t.querySelectorAll("ion-buttons,[menuToggle]");var s=t.closest("ion-header");var f=s===null||s===void 0?void 0:s.classList.contains("header-collapse-condense-inactive");var m=Array.from(l).filter((function(t){var e=t.classList.contains("buttons-collapse");return e&&!f||!e}));o.addElement(m);var p=createAnimation();var u=t.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");if(u.length>0){p.addElement(u)}var y=createAnimation();y.addElement(shadow(t).querySelector(".toolbar-background"));var b=createAnimation();var A=t.querySelector("ion-back-button");if(A){b.addElement(A)}e.addAnimation([a,o,p,b,y]);g.addAnimation(e);b.fromTo(r,.99,0);o.fromTo(r,.99,0);p.fromTo(r,.99,0);if(v){if(!f){a.fromTo("transform","translateX(".concat(i,")"),c?"translateX(-100%)":"translateX(100%)").fromTo(r,.99,0)}p.fromTo("transform","translateX(".concat(i,")"),c?"translateX(-100%)":"translateX(100%)");y.beforeClearStyles([r,"transform"]);var S=s===null||s===void 0?void 0:s.translucent;if(!S){y.fromTo(r,"var(--opacity)",0)}else{y.fromTo("transform","translateX(0px)",c?"translateX(-100%)":"translateX(100%)")}if(A&&!w){var T=createAnimation();T.addElement(shadow(A).querySelector(".button-text")).fromTo("transform","translateX(".concat(i,")"),"translateX(".concat((c?-124:124)+"px",")"));e.addAnimation(T)}}else{if(!f){a.fromTo("transform","translateX(".concat(i,")"),"translateX(".concat(d,")")).fromTo(r,.99,0).afterClearStyles([n,r])}p.fromTo("transform","translateX(".concat(i,")"),"translateX(".concat(d,")")).afterClearStyles([n,r]);b.afterClearStyles([r]);a.afterClearStyles([r]);o.afterClearStyles([r])}}))}return g}catch(t){throw t}};export{iosTransitionAnimation,shadow};