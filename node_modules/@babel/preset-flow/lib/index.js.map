{"version":3,"names":["_helperPluginUtils","require","_pluginTransformFlowStripTypes","_normalizeOptions","_default","declarePreset","api","opts","assertVersion","all","allowDeclareFields","ignoreExtensions","normalizeOptions","flowPlugin","transformFlowStripTypes","plugins","exports","default"],"sources":["../src/index.ts"],"sourcesContent":["import { declarePreset } from \"@babel/helper-plugin-utils\";\nimport transformFlowStripTypes from \"@babel/plugin-transform-flow-strip-types\";\nimport normalizeOptions from \"./normalize-options\";\n\nexport default declarePreset((api, opts) => {\n  api.assertVersion(7);\n  const {\n    all,\n    allowDeclareFields,\n    ignoreExtensions = false,\n  } = normalizeOptions(opts);\n\n  const flowPlugin = [transformFlowStripTypes, { all, allowDeclareFields }];\n\n  // TODO: In Babel 7, ignoreExtensions is always true.\n  // Allow setting it to false in the next minor.\n  if (process.env.BABEL_8_BREAKING ? ignoreExtensions : true) {\n    return { plugins: [flowPlugin] };\n  }\n\n  if (process.env.BABEL_8_BREAKING) {\n    return {\n      overrides: [\n        {\n          test: filename => filename == null || !/\\.tsx?$/.test(filename),\n          plugins: [flowPlugin],\n        },\n      ],\n    };\n  } else {\n    // unreachable\n  }\n});\n"],"mappings":";;;;;;AAAA,IAAAA,kBAAA,GAAAC,OAAA;AACA,IAAAC,8BAAA,GAAAD,OAAA;AACA,IAAAE,iBAAA,GAAAF,OAAA;AAAmD,IAAAG,QAAA,GAEpC,IAAAC,gCAAa,EAAC,CAACC,GAAG,EAAEC,IAAI,KAAK;EAC1CD,GAAG,CAACE,aAAa,CAAC,CAAC,CAAC;EACpB,MAAM;IACJC,GAAG;IACHC,kBAAkB;IAClBC,gBAAgB,GAAG;EACrB,CAAC,GAAG,IAAAC,yBAAgB,EAACL,IAAI,CAAC;EAE1B,MAAMM,UAAU,GAAG,CAACC,sCAAuB,EAAE;IAAEL,GAAG;IAAEC;EAAmB,CAAC,CAAC;EAIzE,IAAsD,IAAI,EAAE;IAC1D,OAAO;MAAEK,OAAO,EAAE,CAACF,UAAU;IAAE,CAAC;EAClC;EAWO,CAEP;AACF,CAAC,CAAC;AAAAG,OAAA,CAAAC,OAAA,GAAAb,QAAA"}